# 대시보드 리팩토링 리스크 분석 및 완화 방안

## 🚨 Top 10 리스크 영역

### 1. 성능 리스크: 첫 페인트 지연

**증상:**
- 대시보드 초기 로딩 시간 > 3초
- 위젯별 순차 로딩으로 인한 레이아웃 시프트
- 모바일에서 특히 느린 렌더링

**왜 문제인가:**
- 사용자가 "10초로 장부를 끝내게" 하는 목표와 상충
- 이탈률 증가 (PRD 1장: D30 잔존율 개선 목표 저해)
- 첫인상 악화로 습관화 실패

**예방 체크:**
- [ ] 위젯별 lazy loading 구현
- [ ] 스켈레톤 UI로 레이아웃 안정화
- [ ] 번들 크기 최적화 (Tree shaking, Code splitting)
- [ ] 이미지 최적화 및 WebP 사용
- [ ] API 응답 시간 모니터링

**폴백 UX:**
- 스켈레톤 UI로 즉시 로딩 상태 표시
- 위젯별 개별 로딩 상태 관리
- 오프라인 상태에서 캐시된 데이터 표시
- 로딩 실패 시 재시도 버튼 제공

---

### 2. 예상세액 카피의 법적 리스크

**증상:**
- "세금은 대략 이 정도로 예상돼요" 같은 모호한 표현
- 사용자가 정확한 세액으로 오해할 가능성
- 세무사와의 상담 없이 의존하는 행동 유도

**왜 문제인가:**
- 법적 책임 소재 불분명
- 사용자 신뢰도 하락
- 실제 세액과 차이 발생 시 분쟁 가능성

**예방 체크:**
- [ ] "참고용" 표시를 명확히 강조
- [ ] 계산 근거 및 한계 명시
- [ ] 법무팀 검토 및 승인
- [ ] 세무사 상담 권유 문구 포함
- [ ] 정확성 면책 조항 추가

**폴백 UX:**
- "정확한 세액은 세무사와 상담하세요" 안내
- 계산 방법 투명하게 공개
- "이 값은 참고용이며 실제와 다를 수 있습니다" 경고
- 세무사 연결 기능 제공

---

### 3. 대시보드↔리포트 필터 동기화 혼선

**증상:**
- 대시보드에서 필터 변경 후 리포트 이동 시 필터 초기화
- 사용자가 설정한 기간이 유지되지 않음
- 일관성 없는 데이터 표시

**왜 문제인가:**
- PRD 6장: "일관성" 원칙 위반
- 사용자 혼란 및 신뢰도 하락
- 워크플로우 중단으로 효율성 저해

**예방 체크:**
- [ ] 전역 상태 관리로 필터 상태 중앙화
- [ ] URL 파라미터로 필터 상태 유지
- [ ] 페이지 간 이동 시 상태 전달 검증
- [ ] 필터 동기화 테스트 케이스 작성
- [ ] 사용자 피드백 수집 및 모니터링

**폴백 UX:**
- 필터 상태 복원 안내 메시지
- "이전 필터로 돌아가기" 버튼 제공
- 필터 상태 저장 기능
- 동기화 실패 시 사용자에게 알림

---

### 4. CTA와 바텀시트/모달 충돌

**증상:**
- 전역 CTA가 모달 뒤에 가려짐
- 바텀시트와 CTA가 겹쳐서 터치 불가
- 키보드 활성 시 CTA가 방해가 됨

**왜 문제인가:**
- PRD CTA 6장: "방해되면 스스로 조용히 물러선다" 원칙 위반
- 사용자 경험 저해
- 접근성 문제 발생

**예방 체크:**
- [ ] z-index 계층 구조 명확히 정의
- [ ] 모달/바텀시트 상태 감지 로직 구현
- [ ] CTA 자동 숨김/이동 로직 테스트
- [ ] 다양한 화면 크기에서 충돌 테스트
- [ ] 키보드 네비게이션 시 CTA 동작 검증

**폴백 UX:**
- CTA 자동 축소/이동
- 모달 닫힐 때 CTA 재등장
- 충돌 시 사용자에게 알림
- 대체 접근 경로 제공

---

### 5. 데이터 없는 계정의 빈 상태 남발

**증상:**
- 신규 사용자가 대시보드 진입 시 모든 위젯이 빈 상태
- "데이터가 없습니다" 메시지만 반복
- 사용자가 다음 행동을 모르는 상황

**왜 문제인가:**
- PRD 7장: "무의미한 빈 화면이 아니라 다음 행동을 제시" 원칙 위반
- 온보딩 경험 악화
- 사용자 이탈률 증가

**예방 체크:**
- [ ] 신규 사용자 전용 온보딩 플로우 설계
- [ ] 빈 상태별 맞춤형 CTA 제공
- [ ] 단계별 가이드 및 튜토리얼 구현
- [ ] 사용자 행동 패턴 분석
- [ ] 빈 상태 UX 테스트

**폴백 UX:**
- "첫 거래 추가하기" 명확한 CTA
- 단계별 온보딩 가이드
- 샘플 데이터 제공 옵션
- 도움말 및 튜토리얼 링크

---

### 6. 위젯 재계산 성능 저하

**증상:**
- 필터 변경 시 모든 위젯이 동시에 재계산
- 복잡한 계산으로 인한 UI 블로킹
- 모바일에서 특히 느린 반응

**왜 문제인가:**
- 사용자 경험 저해
- 배터리 소모 증가
- 앱 성능 저하로 이탈률 증가

**예방 체크:**
- [ ] 위젯별 독립적인 상태 관리
- [ ] 계산 결과 캐싱 구현
- [ ] Web Worker를 활용한 백그라운드 계산
- [ ] 디바운싱으로 불필요한 재계산 방지
- [ ] 성능 모니터링 및 최적화

**폴백 UX:**
- 로딩 인디케이터 표시
- 점진적 로딩 (위젯별 순차 업데이트)
- 계산 중 사용자에게 진행 상황 알림
- 계산 실패 시 재시도 옵션

---

### 7. 모바일 반응형 레이아웃 깨짐

**증상:**
- 1열 레이아웃에서 위젯이 겹침
- 버튼 크기가 터치하기 어려움
- 스크롤 순서가 논리적이지 않음

**왜 문제인가:**
- PRD 10장: "스크롤 순서가 논리적이고 버튼이 겹치지 않는다" 요구사항 위반
- 모바일 사용자 경험 저해
- 접근성 문제 발생

**예방 체크:**
- [ ] 다양한 화면 크기에서 테스트
- [ ] 터치 타겟 크기 44px 이상 보장
- [ ] 스크롤 순서 논리성 검증
- [ ] 위젯 간 간격 적절성 확인
- [ ] 실제 디바이스에서 테스트

**폴백 UX:**
- 모바일 전용 레이아웃 제공
- 위젯 크기 자동 조정
- 스크롤 가이드 제공
- 데스크톱 버전으로 전환 옵션

---

### 8. 접근성 준수 부족

**증상:**
- 스크린리더가 위젯 내용을 읽지 못함
- 키보드 네비게이션 불가
- 색상에만 의존한 정보 전달

**왜 문제인가:**
- PRD 8장: "모든 핵심 수치에 대체 텍스트 제공, 키보드 탐색 가능" 요구사항 위반
- 법적 접근성 의무 위반
- 사용자 포용성 저해

**예방 체크:**
- [ ] ARIA 라벨 및 역할 적절히 설정
- [ ] 키보드 네비게이션 테스트
- [ ] 색상 대비 WCAG AA 수준 충족
- [ ] 스크린리더 테스트
- [ ] 접근성 감사 도구 활용

**폴백 UX:**
- 대체 텍스트 제공
- 고대비 모드 지원
- 키보드 단축키 제공
- 음성 안내 기능

---

### 9. 데이터 정확성 및 일관성 문제

**증상:**
- 위젯 간 수치 불일치
- 실시간 업데이트 지연
- 캐시된 데이터와 실제 데이터 차이

**왜 문제인가:**
- 사용자 신뢰도 하락
- 의사결정 오류 유발
- PRD 10장: "모든 위젯 수치와 목록이 일관되게 바뀐다" 요구사항 위반

**예방 체크:**
- [ ] 단일 데이터 소스 사용
- [ ] 실시간 동기화 구현
- [ ] 데이터 검증 로직 추가
- [ ] 일관성 검사 테스트
- [ ] 데이터 무결성 모니터링

**폴백 UX:**
- 데이터 새로고침 버튼 제공
- 불일치 시 사용자에게 알림
- 수동 동기화 옵션
- 데이터 소스 표시

---

### 10. 사용자 행동 추적 및 분석 부족

**증상:**
- 위젯 클릭률 측정 불가
- 사용자 여정 파악 어려움
- 개선점 식별 불가

**왜 문제인가:**
- PRD 1장: "대시보드 진입 후 행동 클릭률 ≥ 35%" KPI 측정 불가
- 데이터 기반 의사결정 어려움
- 사용자 경험 개선 방향성 부족

**예방 체크:**
- [ ] 분석 이벤트 체계적 설계
- [ ] 위젯별 클릭률 추적
- [ ] 사용자 여정 분석
- [ ] A/B 테스트 인프라 구축
- [ ] 정기적인 분석 리뷰

**폴백 UX:**
- 사용자 피드백 수집 기능
- 수동 분석 도구 제공
- 사용자 행동 패턴 시각화
- 개선 제안 시스템

---

## 🛡️ 종합 완화 전략

### 1. 단계별 롤아웃
- Phase 1: 핵심 위젯 (순이익, 미분류) + 기본 레이아웃
- Phase 2: 나머지 위젯 + 필터 시스템
- Phase 3: 고도화 기능 + 성능 최적화

### 2. 지속적인 모니터링
- 성능 지표 실시간 추적
- 사용자 행동 분석
- 에러율 모니터링
- 접근성 정기 감사

### 3. 사용자 피드백 루프
- 베타 테스터 그룹 운영
- 정기적인 사용자 인터뷰
- 피드백 기반 빠른 개선
- 사용자 만족도 조사

### 4. 기술적 안전장치
- 자동화된 테스트 커버리지 확보
- 성능 회귀 방지
- 접근성 자동 검증
- 데이터 무결성 보장

---

## 📊 리스크 모니터링 대시보드

### 주요 지표
- **성능**: 로딩 시간, 렌더링 시간, 메모리 사용량
- **사용성**: 클릭률, 이탈률, 완료율
- **접근성**: 키보드 네비게이션, 스크린리더 호환성
- **정확성**: 데이터 일관성, 계산 정확도
- **안정성**: 에러율, 크래시율, 가용성

### 알림 임계값
- 로딩 시간 > 3초
- 클릭률 < 25%
- 에러율 > 1%
- 접근성 이슈 발견
- 데이터 불일치 감지

이 리스크 분석을 바탕으로 대시보드 리팩토링을 안전하고 효과적으로 진행할 수 있습니다.
